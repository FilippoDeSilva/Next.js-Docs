name: Download Next.js Docs

on:
  workflow_dispatch:

jobs:
  download-docs:
    runs-on: ubuntu-latest
    env:
      OUTPUT_DIR: nextjs-docs-tmp
      REPO_DOCS_DIR: nextjs-docs
      PDF_DIR: pdf-docs
      HTTRACK_CONN: 5
      THREADS: 2
      PR_BRANCH: update-docs
      GH_PAT: ${{ secrets.GH_PAT }}
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Install dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y httrack wkhtmltopdf parallel

      - name: Download Next.js Docs
        run: bash download_nextjs_docs.sh